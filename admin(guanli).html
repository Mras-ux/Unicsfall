<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unicsfall - 管理员审核系统</title>
    <style>
        :root {
            --primary-color: #6c5ce7;
            --secondary-color: #a29bfe;
            --accent-color: #00cec9;
            --dark-color: #2d3436;
            --light-color: #f5f6fa;
            --success-color: #00b894;
            --warning-color: #fdcb6e;
            --danger-color: #d63031;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--light-color);
            color: var(--dark-color);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #eee;
        }
        
        .logo {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .admin-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .admin-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--secondary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            margin-bottom: 2rem;
        }
        
        .card-title {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            color: var(--primary-color);
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 0.5rem;
        }
        
        .filter-controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .filter-select {
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        .applications-list {
            display: grid;
            gap: 1.5rem;
        }
        
        .application-card {
            background: var(--light-color);
            padding: 1.5rem;
            border-radius: 8px;
            transition: all 0.3s;
        }
        
        .application-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .application-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }
        
        .application-title {
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        .application-meta {
            display: flex;
            gap: 1rem;
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 0.5rem;
        }
        
        .application-content {
            margin-bottom: 1rem;
            white-space: pre-line;
        }
        
        .application-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .application-status {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .status-pending {
            background-color: rgba(253, 203, 110, 0.2);
            color: #b8860b;
        }
        
        .status-approved {
            background-color: rgba(0, 184, 148, 0.2);
            color: #006400;
        }
        
        .status-rejected {
            background-color: rgba(214, 48, 49, 0.2);
            color: #8b0000;
        }
        
        .action-buttons {
            display: flex;
            gap: 0.5rem;
        }
        
        .btn {
            display: inline-block;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s;
            border: none;
        }
        
        .btn-approve {
            background: var(--success-color);
            color: white;
        }
        
        .btn-reject {
            background: var(--danger-color);
            color: white;
        }
        
        .btn-approve:hover {
            background: #00997a;
        }
        
        .btn-reject:hover {
            background: #b02323;
        }
        
        .no-applications {
            text-align: center;
            padding: 2rem;
            color: #666;
        }
        
        .query-code {
            font-family: monospace;
            background: rgba(0, 0, 0, 0.05);
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-size: 0.9rem;
        }
        
        footer {
            text-align: center;
            margin-top: 2rem;
            color: #666;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .card {
                padding: 1.5rem;
            }
            
            .filter-controls {
                flex-direction: column;
            }
            
            .application-header {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .application-footer {
                flex-direction: column;
                gap: 1rem;
                align-items: flex-start;
            }
            
            .action-buttons {
                width: 100%;
            }
            
            .btn {
                flex: 1;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">Unicsfall 审核系统</div>
            <div class="admin-info">
                <div>管理员: <strong>Admin</strong></div>
                <div class="admin-avatar">A</div>
            </div>
        </header>
        
        <div class="card">
            <h2 class="card-title">待审核申请</h2>
            
            <div class="filter-controls">
                <select id="statusFilter" class="filter-select">
                    <option value="all">全部状态</option>
                    <option value="pending">审核中</option>
                    <option value="approved">已采纳</option>
                    <option value="rejected">未采纳</option>
                </select>
                
                <select id="sortFilter" class="filter-select">
                    <option value="newest">最新优先</option>
                    <option value="oldest">最旧优先</option>
                </select>
            </div>
            
            <div class="applications-list" id="applicationsList">
                <!-- 申请列表将在这里动态生成 -->
            </div>
        </div>
    </div>
    
    <footer>
        <p>© 2023 Unicsfall 管理员审核系统. 保留所有权利.</p>
    </footer>
    
    <script>
        // 初始化存储
        if (!localStorage.getItem('applications')) {
            localStorage.setItem('applications', JSON.stringify([]));
        }
        
        // 渲染申请列表
        function renderApplications() {
            const applications = JSON.parse(localStorage.getItem('applications')) || [];
            const statusFilter = document.getElementById('statusFilter').value;
            const sortFilter = document.getElementById('sortFilter').value;
            
            // 过滤
            let filteredApplications = applications;
            if (statusFilter !== 'all') {
                filteredApplications = applications.filter(app => {
                    if (statusFilter === 'pending') return app.status === '审核中';
                    if (statusFilter === 'approved') return app.status === '已采纳';
                    if (statusFilter === 'rejected') return app.status === '未采纳';
                    return true;
                });
            }
            
            // 排序
            filteredApplications.sort((a, b) => {
                if (sortFilter === 'newest') {
                    return new Date(b.createdAt) - new Date(a.createdAt);
                } else {
                    return new Date(a.createdAt) - new Date(b.createdAt);
                }
            });
            
            const applicationsList = document.getElementById('applicationsList');
            
            if (filteredApplications.length === 0) {
                applicationsList.innerHTML = `
                    <div class="no-applications">
                        <p>没有找到符合条件的申请</p>
                    </div>
                `;
                return;
            }
            
            applicationsList.innerHTML = filteredApplications.map(application => `
                <div class="application-card" data-id="${application.id}">
                    <div class="application-header">
                        <div class="application-title">${application.title}</div>
                        <div class="query-code">${application.queryCode}</div>
                    </div>
                    <div class="application-meta">
                        <span>申请人: ${application.applicant}</span>
                        <span>提交时间: ${new Date(application.createdAt).toLocaleString()}</span>
                    </div>
                    <div class="application-content">${application.content}</div>
                    <div class="application-footer">
                        <div>
                            <span class="application-status ${getStatusClass(application.status)}">
                                ${application.status}
                            </span>
                        </div>
                        <div class="action-buttons">
                            <button class="btn btn-approve" onclick="updateStatus('${application.id}', '已采纳')">采纳</button>
                            <button class="btn btn-reject" onclick="updateStatus('${application.id}', '未采纳')">拒绝</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }
        
        function getStatusClass(status) {
            if (status === '审核中') return 'status-pending';
            if (status === '已采纳') return 'status-approved';
            if (status === '未采纳') return 'status-rejected';
            return '';
        }
        
        function updateStatus(id, newStatus) {
            const applications = JSON.parse(localStorage.getItem('applications'));
            const index = applications.findIndex(app => app.id == id);
            
            if (index !== -1) {
                applications[index].status = newStatus;
                localStorage.setItem('applications', JSON.stringify(applications));
                renderApplications();
            }
        }
        
        // 初始化渲染
        renderApplications();
        
        // 添加筛选器事件监听
        document.getElementById('statusFilter').addEventListener('change', renderApplications);
        document.getElementById('sortFilter').addEventListener('change', renderApplications);
    </script>
</body>
</html>
